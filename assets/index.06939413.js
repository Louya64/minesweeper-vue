import{d as G,r as v,w as k,c as ae,o as b,a as E,b as r,u as T,e as D,f as I,t as C,n as J,g as F,v as O,p as Y,h as w,i as oe,j as ue,k as Q,F as W,l as X,m as re}from"./vendor.aa76631d.js";const ne=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const d of l.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&e(d)}).observe(document,{childList:!0,subtree:!0});function u(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function e(s){if(s.ep)return;s.ep=!0;const l=u(s);fetch(s.href,l)}};ne();var ce="https://louya64.github.io/minesweeper-vue/assets/croix.ac73a50d.png";var H=(p,i)=>{const u=p.__vccOpts||p;for(const[e,s]of i)u[e]=s;return u};const ie={class:"cell"},ve={key:0,class:"imgBombClicked",src:ce,alt:""},de={key:0},pe=G({props:{isStarted:{type:Boolean},flags:null,nbMines:null,rows:null,cols:null,pos:null,content:null,show:{type:Boolean},neighbourEmpty:null,gridContent:null},emits:["game-over","emptyZone","resetEmptyZone","flagUsed","checkWin"],setup(p,{emit:i}){const u=p,e=v(u.pos);let s=v(u.content),l=v(u.show),d=v(u.nbMines),m=v(!1);const _=v(!1);k(()=>u.neighbourEmpty,t=>{t!==[u.rows+10,u.cols+10]&&(l.value||t[0]-1<0||t[0]+1>u.rows+1||t[1]-1<0||t[1]+1>u.cols+1||(e.value[0]===t[0]-1&&e.value[1]===t[1]-1||e.value[0]===t[0]-1&&e.value[1]===t[1]||e.value[0]===t[0]-1&&e.value[1]===t[1]+1||e.value[0]===t[0]&&e.value[1]===t[1]-1||e.value[0]===t[0]&&e.value[1]===t[1]+1||e.value[0]===t[0]+1&&e.value[1]===t[1]-1||e.value[0]===t[0]+1&&e.value[1]===t[1]||e.value[0]===t[0]+1&&e.value[1]===t[1]+1)&&s.value!==10&&S())});const N=()=>{var $;if(s.value===0)return;const t=document.getElementById("gameGrid");let a=0;const h=[];if(t.children[e.value[0]-2]!==void 0){const g=($=t.children[e.value[0]-2])==null?void 0:$.children[e.value[1]-2];h.push(g);const f=t.children[e.value[0]-2].children[e.value[1]-1];h.push(f);const y=t.children[e.value[0]-2].children[e.value[1]];h.push(y)}const U=t.children[e.value[0]-1].children[e.value[1]-2];h.push(U);const j=t.children[e.value[0]-1].children[e.value[1]];if(h.push(j),t.children[e.value[0]]!==void 0){const g=t.children[e.value[0]].children[e.value[1]-2];h.push(g);const f=t.children[e.value[0]].children[e.value[1]-1];h.push(f);const y=t.children[e.value[0]].children[e.value[1]];h.push(y)}if(h.map(g=>{g&&g.children[1].children[0]&&a++}),a===s.value){let g=!1;h.map(f=>{if(f&&f.children[1].children[0]===void 0&&(f.children[1].classList.add("displayNone"),f.children[0].classList[0]==="bomb")){g=!0,console.log(f);const y=document.createElement("img");y.src="src/assets/croix.png",y.classList.add("imgBombClicked"),y.classList.add("imgToDelAtStart"),f.children[0].append(y),setTimeout(()=>{i("game-over")},250)}}),g||i("checkWin")}},S=()=>{_.value||!u.isStarted||(i("resetEmptyZone"),l.value=!0,setTimeout(()=>{s.value===10?(m.value=!0,setTimeout(()=>{i("game-over")},250)):(i("checkWin"),s.value===0&&i("emptyZone",e.value))},1))},B=t=>{if(t.preventDefault(),u.flags===0&&!_.value)return;_.value=!_.value;let a;_.value?a=-1:a=1,i("flagUsed",a)};k(()=>u.show,(t,a)=>(t||(m.value=!1,l.value=t),l.value=t)),k(()=>u.content,t=>s.value=t),k(()=>u.nbMines,t=>d.value=t),k(()=>u.flags,t=>{if(t===d.value)return _.value=!1});const A=ae(()=>{switch(u.content){case 0:return"invisible";case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";case 6:return"six";case 7:return"seven";case 8:return"eight";case 10:return"bomb";default:return"unknown"}});return(t,a)=>(b(),E("div",ie,[r("div",{onDblclick:N,class:J(T(A))},[T(m)?(b(),E("img",ve)):D("",!0),I(" "+C(T(s)),1)],34),r("div",{onContextmenu:B,class:J([{displayNone:T(l)},"hiding"]),onClick:S},[_.value?(b(),E("p",de,"!")):D("",!0)],34)]))}});var me=H(pe,[["__scopeId","data-v-3459e428"]]);const q=p=>(Y("data-v-d9fc758c"),p=p(),w(),p),he={class:"setting"},_e={class:"settingsItem"},fe=q(()=>r("label",{for:"width"},"Changer la hauteur",-1)),ge={class:"settingsItem"},be=q(()=>r("label",{for:"height"},"Changer la largeur",-1)),ye={class:"settingsItem"},ke=q(()=>r("label",{for:"bombs"},"Changer les bombes",-1)),Ee=G({emits:["newRows","newCols","newNbMines"],setup(p,{emit:i}){const u=v(9),e=v(9),s=v(10);return k(()=>u.value,l=>{i("newRows",l)}),k(()=>e.value,l=>{i("newCols",l)}),k(()=>s.value,l=>{i("newNbMines",l)}),(l,d)=>(b(),E("div",he,[r("div",_e,[fe,F(r("input",{type:"number",id:"width","onUpdate:modelValue":d[0]||(d[0]=m=>u.value=m)},null,512),[[O,u.value]])]),r("div",ge,[be,F(r("input",{type:"number",id:"height","onUpdate:modelValue":d[1]||(d[1]=m=>e.value=m)},null,512),[[O,e.value]])]),r("div",ye,[ke,F(r("input",{type:"number",id:"bombs","onUpdate:modelValue":d[2]||(d[2]=m=>s.value=m)},null,512),[[O,s.value]])])]))}});var Se=H(Ee,[["__scopeId","data-v-d9fc758c"]]);const P=p=>(Y("data-v-87e677cc"),p=p(),w(),p),Me=P(()=>r("h1",null,"D\xE9mineur",-1)),Ie=I(" Click sur le petit bonhomme jaune pour d\xE9marrer une partie "),Ce={class:"mainWrapper"},Ne={key:0,class:"rulesContainer"},Te=P(()=>r("h2",null,"R\xE8gles du jeu",-1)),Be=P(()=>r("p",{class:"rules"},[I(" * Le but du jeu est de d\xE9couvrir toutes les cases sans tomber sur une bombe"),r("br"),r("br"),I(' * Un click gauche sur une case "cach\xE9e" r\xE9v\xE8le son contenu '),r("br"),I(' * Un click droit sur une case "cach\xE9e" permet de d\xE9poser un drapeau'),r("br"),I(" * Un double click sur une case d\xE9couverte, si le nombre de drapeaux d\xE9pos\xE9e sur les cases adjacentes correspond au contenu de cette case, r\xE9v\xE8le les cases adjacentes"),r("br"),I(" * Le timer ... ne sert \xE0 rien mais il compte ^^"),r("br"),r("br"),I(" **** Click sur le petit bonhomme jaune pour d\xE9marrer une partie ")],-1)),$e=[Te,Be],Le={class:"gameContainer"},De={class:"gameHeader"},Ae={class:"gameHeaderItem"},Ue={class:"icon"},je={class:"gameHeaderItem"},Ze={id:"gameGrid"},Fe={class:"row"},Oe=G({setup(p){const i=v(":)"),u=v(10),e=v(0),s=v(9),l=v(9),d=v(!1),m=v(!1),_=v(u.value),N=v(!1),S=v(!1),B=v(0),A=()=>{m.value&&(m.value=!1),d.value=!d.value},t=()=>{d.value&&(d.value=!1),m.value=!m.value};let a=oe([]);ue(()=>{h()});const h=()=>{a.splice(0,a.length);for(let c=0;c<s.value;c++){a.push([]);for(let o=0;o<l.value;o++)a[c].push(0)}},U=c=>{s.value=c,h()},j=c=>{l.value=c,h()},$=c=>{u.value=c,h()},g=()=>{Z(),document.querySelectorAll(".imgToDelAtStart").forEach(o=>{o.remove()}),a.map((o,M)=>a[M]=o.map(()=>0)),L.value=[s.value+10,l.value+10],i.value=":)",N.value=!0,e.value=0,_.value=u.value,B.value=0,S.value=!0,setTimeout(()=>{S.value=!1,setTimeout(()=>{f(),x()},150)},150)},f=()=>{for(let c=0;c<u.value;c++){const o=Math.floor(Math.random()*s.value),M=Math.floor(Math.random()*l.value);a[o][M]===10&&c--,a[o][M]=10}y()},y=()=>{a.map((c,o)=>c.map((M,n)=>{a[o][n]===10&&(o-1!==-1&&n-1!==-1&&a[o-1][n-1]!==10&&(a[o-1][n-1]+=1),o-1!==-1&&a[o-1][n]!==10&&(a[o-1][n]+=1),o-1!==-1&&n+1!==l.value&&a[o-1][n+1]!==10&&(a[o-1][n+1]+=1),n-1!==-1&&a[o][n-1]!==10&&(a[o][n-1]+=1),n+1!==l.value&&a[o][n+1]!==10&&(a[o][n+1]+=1),o+1!==s.value&&n-1!==-1&&a[o+1][n-1]!==10&&(a[o+1][n-1]+=1),o+1!==s.value&&a[o+1][n]!==10&&(a[o+1][n]+=1),o+1!==s.value&&n+1!==l.value&&a[o+1][n+1]!==10&&(a[o+1][n+1]+=1))}))};let z;const x=()=>{z=setInterval(()=>e.value++,1e3)},Z=()=>{clearInterval(z)};k(()=>u.value,c=>_.value=c);const R=c=>{_.value+=c},L=v([s.value+10,l.value+10]),V=c=>{L.value=c},ee=()=>{L.value=[s.value+10,l.value+10]},te=()=>{B.value++,B.value===s.value*l.value-u.value&&(S.value=!0,i.value=":D",N.value=!1,Z(),setTimeout(()=>{alert("win !!!!!!!!")},150))},se=()=>{i.value=":(",S.value=!0,N.value=!1,Z(),setTimeout(()=>{alert("game over !")},150)};return(c,o)=>(b(),E(W,null,[r("header",null,[Me,Ie,r("button",{class:"rulesBtn btn",onClick:t},"R\xE8gles du jeu"),r("button",{class:"settingsBtn btn",onClick:A},"R\xE9glages")]),r("div",Ce,[m.value?(b(),E("div",Ne,$e)):D("",!0),d.value?(b(),Q(Se,{key:1,onNewRows:U,onNewCols:j,onNewNbMines:$})):D("",!0),r("div",Le,[r("div",De,[r("div",Ae,C(_.value<100?"0":"")+C(_.value),1),r("div",{onClick:g,class:"gameHeaderItem"},[r("p",Ue,C(i.value),1)]),r("div",je,C(e.value<100?"0":"")+C(e.value<10?"0":"")+C(e.value),1)]),r("div",Ze,[(b(!0),E(W,null,X(s.value,(M,n)=>(b(),E("div",Fe,[(b(!0),E(W,null,X(l.value,(K,le)=>(b(),Q(me,{key:M.toString()+K.toString(),pos:[M,K],nbMines:u.value,rows:s.value,cols:l.value,isStarted:N.value,show:S.value,flags:_.value,content:T(a)[n][le],gridContent:T(a),neighbourEmpty:L.value,onFlagUsed:R,onEmptyZone:V,onResetEmptyZone:ee,onCheckWin:te,onGameOver:se},null,8,["pos","nbMines","rows","cols","isStarted","show","flags","content","gridContent","neighbourEmpty"]))),128))]))),256))])])])],64))}});var We=H(Oe,[["__scopeId","data-v-87e677cc"]]);re(We).mount("#app");
