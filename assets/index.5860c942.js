import{d as q,r as v,w as k,c as H,o as C,a as M,b as r,u as L,e as W,f as E,t as T,n as $,g as J,h as Q,F as A,i as G,j as Z,v as F,k as X,l as Y}from"./vendor.62f5a86c.js";const V=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&t(p)}).observe(document,{childList:!0,subtree:!0});function o(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerpolicy&&(u.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?u.credentials="include":l.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(l){if(l.ep)return;l.ep=!0;const u=o(l);fetch(l.href,u)}};V();var x="https://louya64.github.io/minesweeper-vue/assets/croix.ac73a50d.png";var w=(S,c)=>{const o=S.__vccOpts||S;for(const[t,l]of c)o[t]=l;return o};const R={class:"cell"},ee={key:0,class:"imgBombClicked",src:x,alt:""},te={key:0},le=q({props:{isStarted:{type:Boolean},flags:null,nbMines:null,rows:null,cols:null,pos:null,content:null,show:{type:Boolean},neighbourEmpty:null,gridContent:null},emits:["game-over","emptyZone","resetEmptyZone","flagUsed","checkWin"],setup(S,{emit:c}){const o=S,t=v(o.pos);let l=v(o.content),u=v(o.show),p=v(o.nbMines),y=v(!1);const m=v(!1);k(()=>o.neighbourEmpty,e=>{e!==[o.rows+10,o.cols+10]&&(u.value||e[0]-1<0||e[0]+1>o.rows+1||e[1]-1<0||e[1]+1>o.cols+1||(t.value[0]===e[0]-1&&t.value[1]===e[1]-1||t.value[0]===e[0]-1&&t.value[1]===e[1]||t.value[0]===e[0]-1&&t.value[1]===e[1]+1||t.value[0]===e[0]&&t.value[1]===e[1]-1||t.value[0]===e[0]&&t.value[1]===e[1]+1||t.value[0]===e[0]+1&&t.value[1]===e[1]-1||t.value[0]===e[0]+1&&t.value[1]===e[1]||t.value[0]===e[0]+1&&t.value[1]===e[1]+1)&&l.value!==10&&a())});const B=()=>{var U;if(l.value===0)return;const e=document.getElementById("gridContainer");let _=0;const f=[];if(e.children[t.value[0]-2]!==void 0){const d=(U=e.children[t.value[0]-2])==null?void 0:U.children[t.value[1]-2];f.push(d);const g=e.children[t.value[0]-2].children[t.value[1]-1];f.push(g);const b=e.children[t.value[0]-2].children[t.value[1]];f.push(b)}const j=e.children[t.value[0]-1].children[t.value[1]-2];f.push(j);const N=e.children[t.value[0]-1].children[t.value[1]];if(f.push(N),e.children[t.value[0]]!==void 0){const d=e.children[t.value[0]].children[t.value[1]-2];f.push(d);const g=e.children[t.value[0]].children[t.value[1]-1];f.push(g);const b=e.children[t.value[0]].children[t.value[1]];f.push(b)}if(f.map(d=>{d&&d.children[1].children[0]&&_++}),_===l.value){let d=!1;f.map(g=>{if(g&&g.children[1].children[0]===void 0&&(g.children[1].classList.add("displayNone"),g.children[0].classList[0]==="bomb")){d=!0,console.log(g);const b=document.createElement("img");b.src="src/assets/croix.png",b.classList.add("imgBombClicked"),b.classList.add("imgToDelAtStart"),g.children[0].append(b),setTimeout(()=>{c("game-over")},250)}}),d||c("checkWin")}},a=()=>{m.value||!o.isStarted||(c("resetEmptyZone"),u.value=!0,setTimeout(()=>{l.value===10?(y.value=!0,setTimeout(()=>{c("game-over")},250)):(c("checkWin"),l.value===0&&c("emptyZone",t.value))},1))},D=e=>{if(e.preventDefault(),o.flags===0&&!m.value)return;m.value=!m.value;let _;m.value?_=-1:_=1,c("flagUsed",_)};k(()=>o.show,(e,_)=>(e||(y.value=!1,u.value=e),u.value=e)),k(()=>o.content,e=>l.value=e),k(()=>o.nbMines,e=>p.value=e),k(()=>o.flags,e=>{if(e===p.value)return m.value=!1});const I=H(()=>{switch(o.content){case 0:return"invisible";case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";case 6:return"six";case 7:return"seven";case 8:return"eight";case 10:return"bomb";default:return"unknown"}});return(e,_)=>(C(),M("div",R,[r("div",{onDblclick:B,class:$(L(I))},[L(y)?(C(),M("img",ee)):W("",!0),E(" "+T(L(l)),1)],34),r("div",{onContextmenu:D,class:$([{displayNone:L(u)},"hiding"]),onClick:a},[m.value?(C(),M("p",te,"!")):W("",!0)],34)]))}});var se=w(le,[["__scopeId","data-v-fbf23e62"]]);const ae=r("h1",null,"D\xE9mineur",-1),re=E(" Click sur le petit bonhomme jaune pour d\xE9marrer une partie"),ue=r("br",null,null,-1),oe=r("br",null,null,-1),ne={class:"mainWrapper"},ce=r("div",{class:"rulesContainer"},[r("h2",null,"R\xE8gles du jeu"),r("p",{class:"rules"},[E(" * Le but du jeu est de d\xE9couvrir toutes les cases sans tomber sur une bombe"),r("br"),r("br"),E(' * Un click gauche sur une case "cach\xE9e" r\xE9v\xE8le son contenu '),r("br"),E(' * Un click droit sur une case "cach\xE9e" permet de d\xE9poser un drapeau'),r("br"),E(" * Un double click sur une case d\xE9couverte, si le nombre de drapeaux d\xE9pos\xE9e sur les cases adjacentes correspond au contenu de cette case, r\xE9v\xE8le les cases adjacentes"),r("br"),E(" * Le timer ... ne sert \xE0 rien mais il compte ^^"),r("br"),r("br"),E(" **** Click sur le petit bonhomme jaune pour d\xE9marrer une partie ")])],-1),ie={class:"mainContainer"},ve={class:"headContainer"},de={class:"headContainerItem"},he={class:"icon"},pe={class:"headContainerItem"},me={id:"gridContainer"},fe={class:"row"},ge={class:"changeContainer"},_e=r("label",{for:"width"},"Changer la hauteur",-1),be=r("label",{for:"height"},"Changer la largeur",-1),ye=r("label",{for:"bombs"},"Changer les bombes",-1),Ee=q({setup(S){const c=v(":)"),o=v(10),t=v(0),l=v(9),u=v(9),p=v(o.value),y=v(!1),m=v(!1),B=v(0);let a=J([]);console.log(a),Q(()=>{console.log(a),D()});const D=()=>{a.splice(0,a.length);for(let i=0;i<l.value;i++){a.push([]);for(let s=0;s<u.value;s++)a[i].push(0)}console.log(a)};k(()=>l.value,()=>{D()}),k(()=>u.value,()=>{D()});const I=()=>{N(),document.querySelectorAll(".imgToDelAtStart").forEach(s=>{s.remove()}),a.map((s,h)=>a[h]=s.map(()=>0)),d.value=[l.value+10,u.value+10],c.value=":)",y.value=!0,t.value=0,p.value=o.value,B.value=0,m.value=!0,setTimeout(()=>{m.value=!1,setTimeout(()=>{e(),j()},150)},150)},e=()=>{for(let i=0;i<o.value;i++){const s=Math.floor(Math.random()*l.value),h=Math.floor(Math.random()*u.value);a[s][h]===10&&i--,a[s][h]=10}_()},_=()=>{a.map((i,s)=>i.map((h,n)=>{a[s][n]===10&&(s-1!==-1&&n-1!==-1&&a[s-1][n-1]!==10&&(a[s-1][n-1]+=1),s-1!==-1&&a[s-1][n]!==10&&(a[s-1][n]+=1),s-1!==-1&&n+1!==u.value&&a[s-1][n+1]!==10&&(a[s-1][n+1]+=1),n-1!==-1&&a[s][n-1]!==10&&(a[s][n-1]+=1),n+1!==u.value&&a[s][n+1]!==10&&(a[s][n+1]+=1),s+1!==l.value&&n-1!==-1&&a[s+1][n-1]!==10&&(a[s+1][n-1]+=1),s+1!==l.value&&a[s+1][n]!==10&&(a[s+1][n]+=1),s+1!==l.value&&n+1!==u.value&&a[s+1][n+1]!==10&&(a[s+1][n+1]+=1))}))};let f;const j=()=>{f=setInterval(()=>t.value++,1e3)},N=()=>{clearInterval(f)};k(()=>o.value,i=>p.value=i);const U=i=>{p.value+=i},d=v([l.value+10,u.value+10]),g=i=>{d.value=i},b=()=>{d.value=[l.value+10,u.value+10]},P=()=>{B.value++,B.value===l.value*u.value-o.value&&(m.value=!0,c.value=":D",y.value=!1,N(),setTimeout(()=>{alert("win !!!!!!!!")},150))},z=()=>{c.value=":(",m.value=!0,y.value=!1,N(),setTimeout(()=>{alert("game over !")},150)};return(i,s)=>(C(),M(A,null,[ae,re,ue,oe,r("div",ne,[ce,r("div",ie,[r("div",ve,[r("div",de,T(p.value<100?"0":"")+T(p.value),1),r("div",{onClick:I,class:"headContainerItem"},[r("p",he,T(c.value),1)]),r("div",pe,T(t.value<100?"0":"")+T(t.value<10?"0":"")+T(t.value),1)]),r("div",me,[(C(!0),M(A,null,G(l.value,(h,n)=>(C(),M("div",fe,[(C(!0),M(A,null,G(u.value,(O,K)=>(C(),X(se,{key:h.toString()+O.toString(),pos:[h,O],nbMines:o.value,rows:l.value,cols:u.value,isStarted:y.value,show:m.value,flags:p.value,content:L(a)[n][K],gridContent:L(a),neighbourEmpty:d.value,onFlagUsed:U,onEmptyZone:g,onResetEmptyZone:b,onCheckWin:P,onGameOver:z},null,8,["pos","nbMines","rows","cols","isStarted","show","flags","content","gridContent","neighbourEmpty"]))),128))]))),256))])]),r("div",ge,[r("div",null,[_e,Z(r("input",{type:"number",id:"width","onUpdate:modelValue":s[0]||(s[0]=h=>l.value=h)},null,512),[[F,l.value]])]),r("div",null,[be,Z(r("input",{type:"number",id:"height","onUpdate:modelValue":s[1]||(s[1]=h=>u.value=h)},null,512),[[F,u.value]])]),r("div",null,[ye,Z(r("input",{type:"number",id:"bombs","onUpdate:modelValue":s[2]||(s[2]=h=>o.value=h)},null,512),[[F,o.value]])])])])],64))}});Y(Ee).mount("#app");
