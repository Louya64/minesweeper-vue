import{d as G,r as v,w as k,c as H,o as T,a as E,b as n,u as S,e as W,f as q,t as C,n as j,g as J,h as Q,i as Z,v as F,F as O,j as $,k as X,l as Y}from"./vendor.3d2f6fc1.js";const V=function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const f of o.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&t(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerpolicy&&(o.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?o.credentials="include":l.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}};V();var w="/assets/croix.ac73a50d.png";var R=(M,c)=>{const r=M.__vccOpts||M;for(const[t,l]of c)r[t]=l;return r};const x={class:"cell"},ee={key:0,class:"imgBombClicked",src:w,alt:""},te={key:0},le=G({props:{isStarted:{type:Boolean},flags:null,nbMines:null,rows:null,cols:null,pos:null,content:null,show:{type:Boolean},neighbourEmpty:null,gridContent:null},emits:["game-over","emptyZone","resetEmptyZone","flagUsed","checkWin"],setup(M,{emit:c}){const r=M,t=v(r.pos);let l=v(r.content),o=v(r.show),f=v(r.nbMines),b=v(!1);const m=v(!1);k(()=>r.neighbourEmpty,e=>{e!==[r.rows+10,r.cols+10]&&(o.value||e[0]-1<0||e[0]+1>r.rows+1||e[1]-1<0||e[1]+1>r.cols+1||(t.value[0]===e[0]-1&&t.value[1]===e[1]-1||t.value[0]===e[0]-1&&t.value[1]===e[1]||t.value[0]===e[0]-1&&t.value[1]===e[1]+1||t.value[0]===e[0]&&t.value[1]===e[1]-1||t.value[0]===e[0]&&t.value[1]===e[1]+1||t.value[0]===e[0]+1&&t.value[1]===e[1]-1||t.value[0]===e[0]+1&&t.value[1]===e[1]||t.value[0]===e[0]+1&&t.value[1]===e[1]+1)&&l.value!==10&&a())});const B=()=>{var N;if(l.value===0)return;const e=document.getElementById("gridContainer");let _=0;const p=[];if(e.children[t.value[0]-2]!==void 0){const d=(N=e.children[t.value[0]-2])==null?void 0:N.children[t.value[1]-2];p.push(d);const g=e.children[t.value[0]-2].children[t.value[1]-1];p.push(g);const y=e.children[t.value[0]-2].children[t.value[1]];p.push(y)}const A=e.children[t.value[0]-1].children[t.value[1]-2];p.push(A);const L=e.children[t.value[0]-1].children[t.value[1]];if(p.push(L),e.children[t.value[0]]!==void 0){const d=e.children[t.value[0]].children[t.value[1]-2];p.push(d);const g=e.children[t.value[0]].children[t.value[1]-1];p.push(g);const y=e.children[t.value[0]].children[t.value[1]];p.push(y)}if(p.map(d=>{d&&d.children[1].children[0]&&_++}),_===l.value){let d=!1;p.map(g=>{if(g&&g.children[1].children[0]===void 0&&(g.children[1].classList.add("displayNone"),g.children[0].classList[0]==="bomb")){d=!0,console.log(g);const y=document.createElement("img");y.src="src/assets/croix.png",y.classList.add("imgBombClicked"),y.classList.add("imgToDelAtStart"),g.children[0].append(y),setTimeout(()=>{c("game-over")},250)}}),d||c("checkWin")}},a=()=>{m.value||!r.isStarted||(c("resetEmptyZone"),o.value=!0,setTimeout(()=>{l.value===10?(b.value=!0,setTimeout(()=>{c("game-over")},250)):(c("checkWin"),l.value===0&&c("emptyZone",t.value))},1))},D=e=>{if(e.preventDefault(),r.flags===0&&!m.value)return;m.value=!m.value;let _;m.value?_=-1:_=1,c("flagUsed",_)};k(()=>r.show,(e,_)=>(e||(b.value=!1,o.value=e),o.value=e)),k(()=>r.content,e=>l.value=e),k(()=>r.nbMines,e=>f.value=e),k(()=>r.flags,e=>{if(e===f.value)return m.value=!1});const I=H(()=>{switch(r.content){case 0:return"invisible";case 1:return"one";case 2:return"two";case 3:return"three";case 4:return"four";case 5:return"five";case 6:return"six";case 7:return"seven";case 8:return"eight";case 10:return"bomb";default:return"unknown"}});return(e,_)=>(T(),E("div",x,[n("div",{onDblclick:B,class:j(S(I))},[S(b)?(T(),E("img",ee)):W("",!0),q(" "+C(S(l)),1)],34),n("div",{onContextmenu:D,class:j([{displayNone:S(o)},"hiding"]),onClick:a},[m.value?(T(),E("p",te,"!")):W("",!0)],34)]))}});var se=R(le,[["__scopeId","data-v-11ceeaac"]]);const ae=n("h1",null,"D\xE9mineur",-1),oe=q(" Click sur le petit bonhomme jaune pour (re)jouer "),re={class:"changeContainer"},ue=n("label",{for:"width"},"Changer la hauteur",-1),ne=n("label",{for:"height"},"Changer la largeur",-1),ce=n("label",{for:"bombs"},"Changer le nombre de bombes",-1),ie={class:"mainContainer"},ve={class:"headContainer"},de={class:"headContainerItem"},he={class:"icon"},fe={class:"headContainerItem"},me={id:"gridContainer"},pe={class:"row"},ge=G({setup(M){const c=v(":)"),r=v(10),t=v(0),l=v(9),o=v(9),f=v(r.value),b=v(!1),m=v(!1),B=v(0);let a=J([]);console.log(a),Q(()=>{console.log(a),D()});const D=()=>{a.splice(0,a.length);for(let i=0;i<l.value;i++){a.push([]);for(let s=0;s<o.value;s++)a[i].push(0)}console.log(a)};k(()=>l.value,()=>{D()}),k(()=>o.value,()=>{D()});const I=()=>{L(),document.querySelectorAll(".imgToDelAtStart").forEach(s=>{s.remove()}),a.map((s,h)=>a[h]=s.map(()=>0)),d.value=[l.value+10,o.value+10],c.value=":)",b.value=!0,t.value=0,f.value=r.value,B.value=0,m.value=!0,setTimeout(()=>{m.value=!1,setTimeout(()=>{e(),A()},150)},150)},e=()=>{for(let i=0;i<r.value;i++){const s=Math.floor(Math.random()*l.value),h=Math.floor(Math.random()*o.value);a[s][h]===10&&i--,a[s][h]=10}_()},_=()=>{a.map((i,s)=>i.map((h,u)=>{a[s][u]===10&&(s-1!==-1&&u-1!==-1&&a[s-1][u-1]!==10&&(a[s-1][u-1]+=1),s-1!==-1&&a[s-1][u]!==10&&(a[s-1][u]+=1),s-1!==-1&&u+1!==o.value&&a[s-1][u+1]!==10&&(a[s-1][u+1]+=1),u-1!==-1&&a[s][u-1]!==10&&(a[s][u-1]+=1),u+1!==o.value&&a[s][u+1]!==10&&(a[s][u+1]+=1),s+1!==l.value&&u-1!==-1&&a[s+1][u-1]!==10&&(a[s+1][u-1]+=1),s+1!==l.value&&a[s+1][u]!==10&&(a[s+1][u]+=1),s+1!==l.value&&u+1!==o.value&&a[s+1][u+1]!==10&&(a[s+1][u+1]+=1))}))};let p;const A=()=>{p=setInterval(()=>t.value++,1e3)},L=()=>{clearInterval(p)};k(()=>r.value,i=>f.value=i);const N=i=>{f.value+=i},d=v([l.value+10,o.value+10]),g=i=>{d.value=i},y=()=>{d.value=[l.value+10,o.value+10]},P=()=>{B.value++,B.value===l.value*o.value-r.value&&(m.value=!0,c.value=":D",b.value=!1,L(),setTimeout(()=>{alert("win !!!!!!!!")},150))},z=()=>{c.value=":(",m.value=!0,b.value=!1,L(),setTimeout(()=>{alert("game over !")},150)};return(i,s)=>(T(),E(O,null,[ae,oe,n("div",re,[n("div",null,[n("div",null,[ue,Z(n("input",{type:"number",id:"width","onUpdate:modelValue":s[0]||(s[0]=h=>l.value=h)},null,512),[[F,l.value]])]),n("div",null,[ne,Z(n("input",{type:"number",id:"height","onUpdate:modelValue":s[1]||(s[1]=h=>o.value=h)},null,512),[[F,o.value]])])]),n("div",null,[ce,Z(n("input",{type:"number",id:"bombs","onUpdate:modelValue":s[2]||(s[2]=h=>r.value=h)},null,512),[[F,r.value]])])]),n("div",ie,[n("div",ve,[n("div",de,C(f.value<100?"0":"")+C(f.value),1),n("div",{onClick:I,class:"headContainerItem"},[n("p",he,C(c.value),1)]),n("div",fe,C(t.value<100?"0":"")+C(t.value<10?"0":"")+C(t.value),1)]),n("div",me,[(T(!0),E(O,null,$(l.value,(h,u)=>(T(),E("div",pe,[(T(!0),E(O,null,$(o.value,(U,K)=>(T(),X(se,{key:h.toString()+U.toString(),pos:[h,U],nbMines:r.value,rows:l.value,cols:o.value,isStarted:b.value,show:m.value,flags:f.value,content:S(a)[u][K],gridContent:S(a),neighbourEmpty:d.value,onFlagUsed:N,onEmptyZone:g,onResetEmptyZone:y,onCheckWin:P,onGameOver:z},null,8,["pos","nbMines","rows","cols","isStarted","show","flags","content","gridContent","neighbourEmpty"]))),128))]))),256))])])],64))}});Y(ge).mount("#app");
